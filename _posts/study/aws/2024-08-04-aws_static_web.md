---
title: AWS 정적 웹 호스팅하기
date: 2024-08-04 15:00
categories: [aws]
tags: [aws, s3, web]
---

# AWS S3에 정정 Web 호스팅 하기.

제목 그대로 정적인 웹페이지가 있다면 AWS S3에 호스팅 하는 내용입니다.
SSR 방식이 아니라면 html, js, css파일을 제공해주면 웹사이트를 호스팅할 수있기에 해당 방식으로 간단한 설명페이지, 홈페이지?등을 제공할때 주로 사용하는것 같습니다.

이번은 간략히 S3에 페이지를 올리고 AWS S3에서 제공해주는 엔드포인트로 접속해서 해당 페이지를 보도록 하겠습니다.

(사실 시키는데로 파일올리고 '딸깍'하면 끝이긴합니다.)

## 준비!

기본적으로 AWS 계정이 필요하겠습니다. 요것은 생략ㅎㅎㅎ;;

## S3 버킷 만들기!

뜻그대로 이해하면 우리의 데이터가 담길 바구니를 만드는 겁니다. 만들고 싶은 리전에서 버킷생성을 하시면 되겠습니다. 이는 쉽게 찾을 수 있기다고 생각해서 이미지는 생략하고 생성시의 화면만...
![create bucket](/assets/img/study/aws/01/create_bucket.png)

버킷의 이름은 위에 설명처럼 글로벌 네임스페이스에서 고유해야한다고 하기에 자신의 S3 말고도 고유해야하는것으로 보입니다. 버킷이름 지정 규칙을 참고해서 작성하면 되겠습니다.

> 혹시 버지니아 리전으로 만들려고 하신다면 버킷 유형의 옵션도 있는데 자세히는 모르겠네용.

그리고 하나더 엑세스 가능한 범위를 설정해 줍니다.
![public acceess setting](/assets/img/study/aws/01/public_access.png)
html, js, css등 모든 파일을 읽어와야하기에 이런 설정이 필요한것으로 보이네요. 그러니 혹시 다른 보안이 필요한 데이터들은 다른 버킷으로 분리해서 관리하심이 좋을 것 같습니다.

생성시에 다른 설정들은 기본값으로 진행 했습니다.

## 정책 설정

약간 생소한게 이 부분이였습니다. 버킷 생성후에 해당 버킷설정으로 들어가줍니다.

순서는 상관없지만 일단 정적웹페이지 설정을 해줍니다.

버킷 > [생성한내 버킷] > 속성 > 정적 웹 사이트 호스팅

포스팅 기준으로 속성 페이지 맨 밑에 '정적 웹 사이트 호스팅' 옵션을 활성화 하면 됩니다.

![static web setting](/assets/img/study/aws/01/static_web_setting.jpg)

인덱스 문서에 index.html을 입력해줍니다. (root 진입 html 파일 이름이 다르다면 맞게 설정해주세용.)

---

버킷 > [생성한내 버킷] > 권한 > 버킷 정책 > 편집

우측의 편집기를 사용하면 쉽게 추가가 가능합니다.
서비스 S3 , Action GetObject, ARN S3 버킷의 ARN값을 선택하고 넣어주시면 됩니다.

![policy_01](/assets/img/study/aws/01/policy_01.png){: style="float:left; padding:10px"}
![policy_02](/assets/img/study/aws/01/policy_02.png){: style="float:left; padding:10px"}

![policy_03](/assets/img/study/aws/01/policy_03.jpg){: style="width 300px"}

그리고 수정해야하는기 위처럼 principal값과 resource값의 '/\*'를 넣어주시면 됩니다. (안넣으면 구문에 오류가 있다고 저장이 안되용...)

## 웹페이지 확인

이제 다 왔습니다! s3 버킷에 페이지를 업로드하고

![bucket image](/assets/img/study/aws/01/bucket_image.png)

정적웹페이지 옵션에서 해당 페이지로 접속할수 있는 엔드포인트로 접속해봅시다!

![web_dns](/assets/img/study/aws/01/web_endpoint.png)

특별히 문제가 없다면 업로드 하신 페이지를 볼 수 있을겁니다!

---

간단히 정적 웹페이지를 S3에 올리고 접속해서 보는것 까지 해보았습니다. 실사용하기 위해서는 도메인을 연결하고 또 SSL로 안전하게 https접속으로 하게 하려면 좀 더 작업이 필요했습니다.

그나저나 이거 설명하는데 이미지가 너무 많이 필요하네요. 그러니 손도 많이가고... 익숙치가 않은건가 재주가 없는건가 하나 포스팅하는데 2시간이 걸리네요.... 빠생 그래도 다시 잘 적어보자!!!
